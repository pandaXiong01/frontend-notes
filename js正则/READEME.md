## js正则表达式

正则表达式由两种基本字符类型组成：

- 原义文本字符：代表它原来含义的字符 例如：abc、123 
- 元字符



在正则表达式中有特殊意义的非字母字符 例如：\b表示匹配单词边界，而非\b 在正则表达式中具体特殊含义的字符：* + ? $ ^ .| \ () {} []



元字符

| 字符 | 含义                        |
| ---- | --------------------------- |
| \t   | 水平制表符                  |
| \v   | 垂直制表符                  |
| \n   | 换行符                      |
| \r   | 回车符                      |
| \0   | 空字符                      |
| \f   | 换页符                      |
| \cX  | 与X对应的控制字符（Ctrl+X） |



#### 字符类

字符类 一般情况下正则表达式一个字符对应字符串一个字符 

表达式 ab\t 的含义是： 一个字母 a 一个字母 b 加一个水平制表符  

- 可以使用元字符[]来构建一个简单的类
- 所谓类是指符合某些特征的对象，一个泛指，而不是特指某个字符 
- 表达式[abc]：把字符 a 或 b 或 c 归为一类，表达式可以匹配这类的字符，即匹配abc中



```javascript
'a1b1c1d1'.replace(/[abc]/g,'0')   // 010101d1
//字符类取反
// ^不属于某个类的内容
'a1b1c1d1'.replace(/[^abc]/g,'0')  // a0b0c000

```



#### 范围类

- 正则表达式提供了范围类 
- 可以使用[a-z]来连接两个字符类表示从a到z的任意字符 
- 这是一个闭区间；比如包含a和z，可以进行连写：[a-zA-Z]

```javascript
//注意：同时范围内包含字符"-"
"2019-06-05".replace(/[0-9]/g,'X');    //"XXXX-XX-XX"
"2019-06-05".replace(/[0-9-]/g,'X');    //"XXXXXXXXXX"
"2019-06-05 12:10:59".replace(/[0-9-]/g,'X');  //"XXXXXXXXXX XX:XX:XX"
"2019-06-05 12:10:59".replace(/[0-9-:]/g,'X');  //"XXXXXXXXXX XXXXXXXX"
//总结：其实就是字符类和范围类的合并写法
```

 

#### 预定义类

| 字符 | 等价类          | 含义                                                       |
| ---- | --------------- | ---------------------------------------------------------- |
| .    | [^\r\n]         | 除了回车符和换行符之外的所有的字符(任意字符即除了回车换行) |
| \d   | [0-9]           | 数字字符 ( 数字字符 d:digit )                              |
| \D   | [^0-9]          | 非数字字符 ( 数字字符 d:digit )                            |
| \s   | [\t\n\x0B\f\r]  | 空白符 ( s:space )                                         |
| \S   | [^\t\n\x0B\f\r] | 非空白符 ( s:space )                                       |
| \w   | [a-zA-Z_0-9]    | 单词字符（字母、数字下划线） w:word                        |
| \W   | [^a-zA-Z_0-9]   | 非单词字符                                                 |

总结：大写的表示取反

```javascript
//匹配一个 ab+数字+任意字符 的字符串
//做法1：/ab[0-9][^\r\n]/
//做法2：/ab\d./
```



#### 边界

常用边界匹配字符

| 字符 | 含义                  |
| ---- | --------------------- |
| ^    | 以 xxx 开始           |
| $    | 以 xxx 结束           |
| \b   | 单词边界 ( boundary ) |
| \B   | 非单词边界            |



```javascript
// 注意这里边界的意思
"This is a boy".replace(/is/g,'X');   // "ThX X a boy"
"This is a boy".replace(/\bis\b/g,'X');  // "This X a boy"
"This is a boy".replace(/\Bis\b/g,'X'); "ThX is a boy"
//
"@123456@abcdef@".replace(/@./g,'X');  // "X23456Xbcdef@"
"@123456@abcdef@".replace(/^@./g,'X'); // "X23456@abcdef@"
"@123456@abcdef@".replace(/.@/g,'X');  // "@12345XabcdeX"
"@123456@abcdef@".replace(/.@$/g,'X'); // "@123456@abcdeX"
 




```



